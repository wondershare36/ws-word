(function(){"use strict";var e={723:function(e,t,a){var o=a(9242),s=a(3396);const n={class:"container"};function r(e,t){const a=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(a)])}var i=a(89);const l={},d=(0,i.Z)(l,[["render",r]]);var c=d,u=a(2483),m=a(7139);const f=e=>((0,s.dD)("data-v-38105530"),e=e(),(0,s.Cn)(),e),p={class:"home"},h={key:0,class:"main card login"},g={class:"header"},w={class:"content",style:{"border-bottom":"none"}},v={key:1,class:"main card"},y={class:"header"},_={key:0,class:"name"},b={key:1,class:"name"},k={class:"content",style:{"text-align":"center"}},D=f((()=>(0,s._)("div",{style:{"font-size":"16px"}},"平均时长",-1))),x={style:{"margin-top":"0px"}},M={class:"number"},I=f((()=>(0,s._)("div",{style:{"font-size":"16px"}},"总时长",-1))),T={style:{"margin-top":"0px"}},O={class:"number"},C={class:"bottom"},W={class:"bottom-left"},S=f((()=>(0,s._)("div",{class:"bottom-title"},"追求奋斗者",-1))),z={class:"bottom-time"},j={class:"number"},P={class:"bottom-right"},E=f((()=>(0,s._)("div",{class:"bottom-title"},"追求实践者",-1))),N={class:"bottom-time"},U={class:"number"},F={key:2,class:"card",style:{"margin-top":"20px"}},q={class:"content",style:{"text-align":"center"}},V=f((()=>(0,s._)("div",{style:{"font-size":"16px"}},"本月共有",-1))),Z={style:{"margin-top":"0px"}},H={class:"number"},L=f((()=>(0,s._)("div",{style:{"font-size":"16px"}},"已经熬过",-1))),Q={style:{"margin-top":"0px"}},$={class:"number"},A={class:"content",style:{"text-align":"center"}},B=f((()=>(0,s._)("div",{style:{"font-size":"16px"}},"还剩",-1))),Y={style:{"margin-top":"0px"}},G={class:"number"},J={key:3,class:"card",style:{"margin-top":"20px"}},K={class:"row"},R=f((()=>(0,s._)("div",null,"距离入职",-1))),X={class:"number"},ee={key:4,class:"holiday card",style:{"margin-top":"20px"}},te={class:"row"},ae=f((()=>(0,s._)("div",{class:""},[(0,s._)("div",{class:"title"},"春节倒计时"),(0,s._)("div",null,"2023-01-22")],-1))),oe={class:"number"};function se(e,t,a,n,r,i){const l=(0,s.up)("el-input"),d=(0,s.up)("el-form-item"),c=(0,s.up)("el-popover"),u=(0,s.up)("el-button"),f=(0,s.up)("el-form"),se=(0,s.up)("el-progress");return(0,s.wg)(),(0,s.iD)("div",p,[r.data.name?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("div",g,[(0,s._)("span",{class:"name",onDblclick:t[0]||(t[0]=e=>r.showCmsPassWord=!r.showCmsPassWord),style:{"user-select":"none"}},"万兴人，您好！",32)]),(0,s._)("div",w,[(0,s.Wm)(f,{style:{width:"100%"},ref:"myform",rules:r.rules,model:r.form},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{prop:"wsId"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{modelValue:r.form.wsId,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.wsId=e),placeholder:"工号"},null,8,["modelValue"])])),_:1}),(0,s.wy)((0,s.Wm)(d,{prop:"password"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{placement:"top-start",title:"加密密码",width:200,trigger:"hover",content:"请在员工之家抓包获取算法加密过的32位字符"},{reference:(0,s.w5)((()=>[(0,s.Wm)(l,{type:"password",placeholder:"密码",modelValue:r.form.password,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.password=e)},null,8,["modelValue"])])),_:1})])),_:1},512),[[o.F8,!r.showCmsPassWord]]),(0,s.wy)((0,s.Wm)(d,{prop:"wsId"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{type:"password",placeholder:"管理密码",onChange:i.handleCmsPasswordChange,modelValue:r.form.cmsPassword,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.cmsPassword=e)},null,8,["onChange","modelValue"])])),_:1},512),[[o.F8,r.showCmsPassWord]]),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{type:"primary",style:{"background-color":"#006DFF",width:"100%","font-size":"18px","font-weight":"700","letter-spacing":"14px",height:"42px"},onClick:i.handleLogin},{default:(0,s.w5)((()=>[(0,s.Uk)("登录 ")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["rules","model"])])])),r.data.name?((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",y,[r.devMode?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",_,(0,m.zw)(r.data.name[0])+"同学，您好！",1)),r.devMode?((0,s.wg)(),(0,s.iD)("span",b,(0,m.zw)(r.data.name),1)):(0,s.kq)("",!0),(0,s.Wm)(u,{type:"text",style:{"margin-left":"auto"},onClick:i.handleLogout},{default:(0,s.w5)((()=>[(0,s.Uk)("注销")])),_:1},8,["onClick"])]),(0,s._)("div",k,[(0,s._)("div",null,[D,(0,s._)("div",x,[(0,s._)("span",M,(0,m.zw)(r.data.avgHours),1),(0,s.Uk)(" 小时")])]),(0,s._)("div",null,[I,(0,s._)("div",T,[(0,s._)("span",O,(0,m.zw)(r.data.attend),1),(0,s.Uk)(" 小时")])])]),(0,s._)("div",C,[(0,s._)("div",W,[S,(0,s._)("div",z,[(0,s._)("span",j,(0,m.zw)(i.formatTime(i.calData.left_time102,"hh:mm")),1),(0,s.Uk)("下班")])]),(0,s._)("div",P,[E,(0,s._)("div",N,[(0,s._)("span",U,(0,m.zw)(i.formatTime(i.calData.left_time9,"hh:mm")),1),(0,s.Uk)("下班")])])])])):(0,s.kq)("",!0),r.data.name&&!r.devMode?((0,s.wg)(),(0,s.iD)("div",F,[(0,s._)("div",q,[(0,s._)("div",null,[V,(0,s._)("div",Z,[(0,s._)("span",H,(0,m.zw)(r.total_day),1),(0,s.Uk)(" 工作日")])]),(0,s._)("div",null,[L,(0,s._)("div",Q,[(0,s._)("span",$,(0,m.zw)(i.calData.work_day),1),(0,s.Uk)(" 工作日")])])]),(0,s._)("div",A,[(0,s._)("div",null,[B,(0,s._)("div",Y,[(0,s._)("span",G,(0,m.zw)(i.calData.left_day),1),(0,s.Uk)(" 工作日")])])]),(0,s.Wm)(se,{"text-inside":!0,"stroke-width":26,percentage:i.calData.percent,format:i.format},null,8,["percentage","format"])])):(0,s.kq)("",!0),r.data.name&&!r.devMode?((0,s.wg)(),(0,s.iD)("div",J,[(0,s._)("div",K,[(0,s._)("div",null,[R,(0,s._)("div",null,(0,m.zw)(r.data.joinDate),1)]),(0,s._)("div",X,(0,m.zw)(i.calData.timeDiff)+"天",1)])])):(0,s.kq)("",!0),r.data.name?((0,s.wg)(),(0,s.iD)("div",ee,[(0,s._)("div",te,[ae,(0,s._)("div",oe,(0,m.zw)(i.calHoliday)+"天",1)])])):(0,s.kq)("",!0)])}var ne={name:"HomeView",data(){return{devMode:!1,showCmsPassWord:!1,form:{wsId:"",password:"",cmsPassword:""},total_day:0,data:{},rules:{wsId:[{required:!0,message:"请输入工号",trigger:"blur"},{min:8,max:8,message:"长度为 8 位字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:32,max:32,message:"长度为 32 位字符",trigger:"blur"}]}}},mounted(){this.data.name&&this.getWordDay(),this.form={wsId:localStorage.getItem("wsId"),password:localStorage.getItem("password")},this.devMode=!!localStorage.getItem("devMode")||!1,this.form.wsId&&this.form.password&&this.getData()},computed:{calHoliday(){const e=Math.round((new Date("2023-01-22").getTime()-(new Date).getTime())/1e3/60/60/24);return e},calData(){const e=this.data;if(!e.name)return{};e.name[e.name.length-1];const t=Math.round(((new Date).getTime()-new Date(e.joinDate).getTime())/1e3/60/60/24),a=Math.floor(e.needAttend/7.5),o=this.total_day,s=o-a,n=new Date,r=(new Date(n.getTime()-864e5),new Date("2022-10-01 18:40:00")),i=((10.2*o-a*e.avgHours)/s).toFixed(2),l=new Date(r.getTime()+60*(i-7.5)*60*1e3),d=((9*o-a*e.avgHours)/s).toFixed(2),c=new Date(r.getTime()+60*(d-7.5)*60*1e3),u=Math.round(a/o*100);return console.log(u),{left_time9:c,left_time102:l,left_day:s,work_day:a,percent:u,timeDiff:t}}},watch:{devMode(e){e&&(this.$message.success("开发者模式"),localStorage.setItem("devMode","1"),this.rules.password={})},"data.name"(e){e&&this.getWordDay()}},methods:{handleCmsPasswordChange(){"Wsl1197718367."===this.form.cmsPassword&&(this.devMode=!0)},format(e){return`${this.calData.work_day}天`},async getWordDay(){const{data:e}=await this.axios.get("https://api.apihubs.cn/holiday/get");console.log(e);let t=0;e.data.list.forEach((e=>{1===e.workday&&t++})),console.log(t),this.total_day=t},async getData(e,t){if(this.devMode&&this.devMode)return await this.getData1();await this.getData2()},async getData1(){const e=await this.axios.get("https://res.wondershare.cn/analytics/attend",{params:this.form,headers:{authorization:"Basic MjExMTE1MTM6YTI4ZTdhZTM3NDk2NTFhOGQ1ODQyN2E3MmI2ODIwNTQ="}}),{data:t}=await this.axios.get(`https://gw.300624.cn/ihr/v1.0/tmp-employee-info/detail/${this.form.wsId}`,{params:this.form,headers:{authorization:"Basic MjExMTE1MTM6YTI4ZTdhZTM3NDk2NTFhOGQ1ODQyN2E3MmI2ODIwNTQ="}});if(console.log(JSON.parse(t.data.basicInfo)),console.log(e),e.data.data.status>=200)return localStorage.clear(),this.$message.error(e.data.msg);localStorage.setItem("wsId",this.form.wsId),localStorage.setItem("password",this.form.password),this.data={name:JSON.parse(t.data.basicInfo).name,...e.data.data}},async getData2(){const e=await this.axios.post("https://gw.300624.cn/users/authentication",this.form);if(console.log(e),e.data.status>200)return localStorage.clear(),this.$message.error(e.data.message);localStorage.setItem("wsId",this.form.wsId),localStorage.setItem("password",this.form.password),this.data=e.data.data},formatTime(e,t="yyyy-MM-dd hh:mm:ss"){let a=new Date(e),o="0"+a.getFullYear(),s="0"+(a.getMonth()+1),n="0"+a.getDate(),r="0"+a.getHours(),i="0"+a.getMinutes(),l="0"+a.getSeconds();return t.includes("y")&&(t=t.replace(/y+/,o.slice(-t.match(/y+/)[0].length))),t.includes("M")&&(t=t.replace(/M+/,s.slice(-t.match(/M+/)[0].length))),t.includes("d")&&(t=t.replace(/d+/,n.slice(-t.match(/d+/)[0].length))),t.includes("h")&&(t=t.replace(/h+/,r.slice(-t.match(/h+/)[0].length))),t.includes("m")&&(t=t.replace(/m+/,i.slice(-t.match(/m+/)[0].length))),t.includes("s")&&(t=t.replace(/s+/,l.slice(-t.match(/s+/)[0].length))),t},handleLogin(){this.$refs.myform.validate((e=>{if(!e)return!1;this.getData()}))},handleLogout(){this.data={},localStorage.clear(),this.form={wsId:"",password:""}}}};const re=(0,i.Z)(ne,[["render",se],["__scopeId","data-v-38105530"]]);var ie=re;const le=[{path:"/",name:"home",component:ie},{path:"/about",name:"about",component:()=>a.e(443).then(a.bind(a,7381))}],de=(0,u.p7)({history:(0,u.r5)(),routes:le});var ce=de,ue=a(70),me=a(6423),fe=a(8290);a(4415);const pe=(0,o.ri)(c);pe.use(ce).mount("#app"),pe.use(me.Z,ue.Z),pe.use(fe.Z)}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,o,s,n){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],n=e[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(i=!1,n<r&&(r=n));if(i){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,o){return a.f[o](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/about.edcd9111.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ws-work:";a.l=function(o,s,n,r){if(e[o])e[o].push(s);else{var i,l;if(void 0!==n)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+n){i=u;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+n),i.src=o),e[o]=[s];var m=function(t,a){i.onerror=i.onload=null,clearTimeout(f);var s=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(e){return e(a)})),t)return t(a)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){var e={143:0};a.f.j=function(t,o){var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)o.push(s[2]);else{var n=new Promise((function(a,o){s=e[t]=[a,o]}));o.push(s[2]=n);var r=a.p+a.u(t),i=new Error,l=function(o){if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var n=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",i.name="ChunkLoadError",i.type=n,i.request=r,s[1](i)}};a.l(r,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,r=o[0],i=o[1],l=o[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(l)var c=l(a)}for(t&&t(o);d<r.length;d++)n=r[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},o=self["webpackChunkws_work"]=self["webpackChunkws_work"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(723)}));o=a.O(o)})();
//# sourceMappingURL=app.1f43140a.js.map