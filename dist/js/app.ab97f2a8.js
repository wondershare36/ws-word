(function(){"use strict";var t={3699:function(t,e,a){var o=a(9242),n=a(3396);const s={class:"container"};function r(t,e){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(a)])}var i=a(89);const l={},d=(0,i.Z)(l,[["render",r]]);var c=d,u=a(2483),m=a(7139);const p=t=>((0,n.dD)("data-v-34b9cace"),t=t(),(0,n.Cn)(),t),f={class:"home"},h={key:0,class:"main card login"},g={class:"header"},w={class:"",style:{"border-bottom":"none","margin-top":"20px"}},v={key:1,class:"main card"},y={class:"header"},_={key:0,class:"name"},b={key:1,class:"name"},D={class:"content",style:{"border-top":"1px solid rgba(0, 0, 0, 0.1)","text-align":"center","justify-content":"space-around"}},k=p((()=>(0,n._)("div",{style:{"font-size":"16px","font-weight":"700"}},"平均时长",-1))),x={style:{"margin-top":"0px"}},M={class:"number",style:{"font-weight":"700"}},T=p((()=>(0,n._)("div",{style:{"font-size":"16px","font-weight":"700"}},"总时长",-1))),I={style:{"margin-top":"0px"}},W={class:"number",style:{"font-weight":"700"}},C={class:"content"},O={class:"bottom-left"},S={class:"bottom-title"},j={class:"bottom-tips"},z={class:"bottom-right"},P={class:"bottom-time"},U={class:"number"},E={class:"content"},V={class:"bottom-left"},F=p((()=>(0,n._)("div",{class:"bottom-title"},"追求实践者",-1))),q={class:"bottom-tips"},$={class:"bottom-right"},H={class:"bottom-time"},L={class:"number"},N={key:2,class:"card",style:{"margin-top":"20px"}},Z={class:"content",style:{"text-align":"center",padding:"0","margin-top":"0"}},A={style:{"font-size":"16px"}},Q={class:"content",style:{padding:"0","margin-bottom":"0"}},B={key:3,class:"card",style:{"margin-top":"20px"}},Y={class:"row"},G=p((()=>(0,n._)("div",{class:"bottom-title"},"已入职",-1))),J={class:"number"},K={key:4,class:"holiday card",style:{"margin-top":"20px"}},R={class:"row"},X=p((()=>(0,n._)("div",{class:""},[(0,n._)("div",{class:"bottom-title"},"春节倒计时"),(0,n._)("div",null,"2023-01-22")],-1))),tt={class:"number"};function et(t,e,a,s,r,i){const l=(0,n.up)("el-input"),d=(0,n.up)("el-form-item"),c=(0,n.up)("el-popover"),u=(0,n.up)("el-button"),p=(0,n.up)("el-form"),et=(0,n.up)("QuestionFilled"),at=(0,n.up)("el-icon"),ot=(0,n.up)("el-tooltip"),nt=(0,n.up)("el-slider");return(0,n.wg)(),(0,n.iD)("div",f,[r.data.name?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("div",g,[(0,n._)("span",{class:"name",onDblclick:e[0]||(e[0]=t=>r.showCmsPassWord=!r.showCmsPassWord),style:{"user-select":"none"}},"万兴人，您好！",32)]),(0,n._)("div",w,[(0,n.Wm)(p,{style:{width:"100%"},ref:"myform",rules:r.rules,model:r.form},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{prop:"wsId"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{modelValue:r.form.wsId,"onUpdate:modelValue":e[1]||(e[1]=t=>r.form.wsId=t),placeholder:"工号"},null,8,["modelValue"])])),_:1}),(0,n.wy)((0,n.Wm)(d,{prop:"password"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{placement:"top-start",title:"加密密码",width:200,trigger:"hover",content:"请在员工之家抓包获取算法加密过的32位字符"},{reference:(0,n.w5)((()=>[(0,n.Wm)(l,{type:"password",placeholder:"密码",modelValue:r.form.password,"onUpdate:modelValue":e[2]||(e[2]=t=>r.form.password=t)},null,8,["modelValue"])])),_:1})])),_:1},512),[[o.F8,!r.showCmsPassWord]]),(0,n.wy)((0,n.Wm)(d,{prop:"wsId"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{type:"password",placeholder:"管理密码",onChange:i.handleCmsPasswordChange,modelValue:r.form.cmsPassword,"onUpdate:modelValue":e[3]||(e[3]=t=>r.form.cmsPassword=t)},null,8,["onChange","modelValue"])])),_:1},512),[[o.F8,r.showCmsPassWord]]),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{type:"primary",style:{"background-color":"#006DFF",width:"100%","font-size":"18px","font-weight":"700","letter-spacing":"14px",height:"42px"},onClick:i.handleLogin},{default:(0,n.w5)((()=>[(0,n.Uk)("登录 ")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["rules","model"])])])),r.data.name?((0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("div",y,[r.devMode?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",_,(0,m.zw)(r.data.name[0])+"同学，您好！",1)),r.devMode?((0,n.wg)(),(0,n.iD)("span",b,(0,m.zw)(r.data.name),1)):(0,n.kq)("",!0),(0,n.Wm)(u,{type:"text",style:{"margin-left":"auto"},onClick:i.handleLogout},{default:(0,n.w5)((()=>[(0,n.Uk)("注销")])),_:1},8,["onClick"])]),(0,n._)("div",D,[(0,n._)("div",null,[k,(0,n._)("div",x,[(0,n._)("span",M,(0,m.zw)(r.data.avgHours),1),(0,n.Uk)(" 小时 ")])]),(0,n._)("div",null,[T,(0,n._)("div",I,[(0,n._)("span",W,(0,m.zw)(r.data.attend),1),(0,n.Uk)(" 小时 ")])])]),(0,n._)("div",C,[(0,n._)("div",O,[(0,n._)("div",S,[(0,n.Uk)("追求奋斗者 "),(0,n.Wm)(ot,{class:"box-item",effect:"dark",content:"Top Left prompts info",placement:"top-start"},{default:(0,n.w5)((()=>[(0,n.Wm)(at,{color:"#a8a8a8"},{default:(0,n.w5)((()=>[(0,n.Wm)(et)])),_:1})])),_:1})]),(0,n._)("div",j,"需"+(0,m.zw)(i.calData.left_hour102)+"小时平均时长",1)]),(0,n._)("div",z,[(0,n._)("div",P,[(0,n._)("span",U,(0,m.zw)(i.formatTime(i.calData.left_time102,"hh:mm")),1),(0,n.Uk)("下班")])])]),(0,n._)("div",E,[(0,n._)("div",V,[F,(0,n._)("div",q,"需"+(0,m.zw)(i.calData.left_hour9)+"小时平均时长",1)]),(0,n._)("div",$,[(0,n._)("div",H,[(0,n._)("span",L,(0,m.zw)(i.formatTime(i.calData.left_time9,"hh:mm")),1),(0,n.Uk)("下班")])])])])):(0,n.kq)("",!0),r.data.name&&!r.devMode?((0,n.wg)(),(0,n.iD)("div",N,[(0,n._)("div",Z,[(0,n._)("div",null,[(0,n._)("div",A,"本月共有"+(0,m.zw)(r.total_day)+"工作日",1)])]),(0,n.Wm)(nt,{modelValue:i.calData.percent,"onUpdate:modelValue":e[4]||(e[4]=t=>i.calData.percent=t),"format-tooltip":i.formatTooltip,step:i.calData.step,"show-stops":""},null,8,["modelValue","format-tooltip","step"]),(0,n._)("div",Q,[(0,n._)("div",null,[(0,n._)("div",null,"已经熬过"+(0,m.zw)(i.calData.work_day)+"工作日",1)]),(0,n._)("div",null,[(0,n._)("div",null,"还剩"+(0,m.zw)(i.calData.left_day)+"工作日",1)])])])):(0,n.kq)("",!0),r.data.name&&!r.devMode?((0,n.wg)(),(0,n.iD)("div",B,[(0,n._)("div",Y,[(0,n._)("div",null,[G,(0,n._)("div",null,(0,m.zw)(r.data.joinDate),1)]),(0,n._)("div",null,[(0,n._)("span",J,(0,m.zw)(i.calData.timeDiff),1),(0,n.Uk)("天")])])])):(0,n.kq)("",!0),r.data.name?((0,n.wg)(),(0,n.iD)("div",K,[(0,n._)("div",R,[X,(0,n._)("div",null,[(0,n._)("span",tt,(0,m.zw)(i.calHoliday),1),(0,n.Uk)("天")])])])):(0,n.kq)("",!0)])}var at={name:"HomeView",data(){return{devMode:!1,showCmsPassWord:!1,form:{wsId:"",password:"",cmsPassword:""},total_day:0,data:{},rules:{wsId:[{required:!0,message:"请输入工号",trigger:"blur"},{min:8,max:8,message:"长度为 8 位字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:32,max:32,message:"长度为 32 位字符",trigger:"blur"}]}}},mounted(){this.open(),this.data.name&&this.getWordDay(),this.form={wsId:localStorage.getItem("wsId"),password:localStorage.getItem("password")},this.devMode=!!localStorage.getItem("devMode")||!1,this.form.wsId&&this.form.password&&this.getData()},computed:{calHoliday(){const t=Math.round((new Date("2023-01-22").getTime()-(new Date).getTime())/1e3/60/60/24);return t},calData(){const t=this.data;if(!t.name)return{};t.name[t.name.length-1];const e=Math.round(((new Date).getTime()-new Date(t.joinDate).getTime())/1e3/60/60/24),a=Math.floor(t.needAttend/7.5),o=this.total_day,n=Math.max(o-a,0),s=new Date,r=(new Date(s.getTime()-864e5),new Date("2022-10-01 18:40:00")),i=((10.2*o-a*t.avgHours)/n).toFixed(2),l=new Date(r.getTime()+60*(i-7.5)*60*1e3),d=((9*o-a*t.avgHours)/n).toFixed(2),c=new Date(r.getTime()+60*(d-7.5)*60*1e3),u=Math.round(a/o*100),m=1/o*100;return console.log(u),{step:m,left_time9:c,left_time102:l,left_hour9:d,left_hour102:i,left_day:n,work_day:a,percent:u,timeDiff:e}}},watch:{devMode(t){t&&(this.$message.success("开发者模式"),localStorage.setItem("devMode","1"),this.rules.password={})},"data.name"(t){t&&this.getWordDay()}},methods:{open(){this.$alert("日活太高，接口已经不返回时长字段信息了，请等待新版本","维护通知 2022-11-18",{confirmButtonText:"忍痛等待",callback:t=>{this.$message({type:"info",message:"爱你哟"})}})},formatTooltip(t){return`${this.calData.work_day} / ${this.total_day}`},handleCmsPasswordChange(){"wsl5201314"===this.form.cmsPassword&&(this.devMode=!0)},format(t){return`${this.calData.work_day}天`},async getWordDay(){const t=new Date,e=t.getMonth()+1;let a=localStorage.getItem(`month_total_day_${e}`);if(a)return this.total_day=a;const{data:o}=await this.axios.get("https://api.apihubs.cn/holiday/get");console.log(o),a=0,o.data.list.forEach((t=>{1===t.workday&&a++})),console.log(a),this.total_day=a,localStorage.setItem(`month_total_day_${e}`,a.toString())},async getData(t,e){if(this.devMode&&this.devMode)return await this.getData1();await this.getData2()},async getData1(){const t=await this.axios.get("https://res.wondershare.cn/analytics/attend",{params:this.form,headers:{authorization:"Basic MjExMTE1MTM6YTI4ZTdhZTM3NDk2NTFhOGQ1ODQyN2E3MmI2ODIwNTQ="}});this.data={...this.data,...t.data.data}},async getData2(){const t=await this.axios.post("https://gw.300624.cn/users/authentication",this.form);if(console.log(t),t.data.status>200)return localStorage.clear(),this.$message.error(t.data.message);localStorage.setItem("wsId",this.form.wsId),localStorage.setItem("password",this.form.password),this.data=t.data.data},formatTime(t,e="yyyy-MM-dd hh:mm:ss"){let a=new Date(t);if("Invalid Date"===a.toString())return"00:00";let o="0"+a.getFullYear(),n="0"+(a.getMonth()+1),s="0"+a.getDate(),r="0"+a.getHours(),i="0"+a.getMinutes(),l="0"+a.getSeconds();return e.includes("y")&&(e=e.replace(/y+/,o.slice(-e.match(/y+/)[0].length))),e.includes("M")&&(e=e.replace(/M+/,n.slice(-e.match(/M+/)[0].length))),e.includes("d")&&(e=e.replace(/d+/,s.slice(-e.match(/d+/)[0].length))),e.includes("h")&&(e=e.replace(/h+/,r.slice(-e.match(/h+/)[0].length))),e.includes("m")&&(e=e.replace(/m+/,i.slice(-e.match(/m+/)[0].length))),e.includes("s")&&(e=e.replace(/s+/,l.slice(-e.match(/s+/)[0].length))),e},handleLogin(){this.$refs.myform.validate((t=>{if(!t)return!1;this.getData()}))},handleLogout(){this.data={},localStorage.clear(),this.form={wsId:"",password:""}}}};const ot=(0,i.Z)(at,[["render",et],["__scopeId","data-v-34b9cace"]]);var nt=ot;const st=[{path:"/",name:"home",component:nt},{path:"/about",name:"about",component:()=>a.e(443).then(a.bind(a,7381))}],rt=(0,u.p7)({history:(0,u.r5)(),routes:st});var it=rt,lt=a(70),dt=a(6423),ct=a(3785),ut=(a(4415),a(2748));const mt=(0,o.ri)(c);mt.use(it).mount("#app"),mt.use(dt.Z,lt.Z),mt.use(ct.Z);for(const[pt,ft]of Object.entries(ut))mt.component(pt,ft)}},e={};function a(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,o,n,s){if(!o){var r=1/0;for(c=0;c<t.length;c++){o=t[c][0],n=t[c][1],s=t[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&s||r>=s)&&Object.keys(a.O).every((function(t){return a.O[t](o[l])}))?o.splice(l--,1):(i=!1,s<r&&(r=s));if(i){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[o,n,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,o){return a.f[o](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/about.edcd9111.js"}}(),function(){a.miniCssF=function(t){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="ws-work:";a.l=function(o,n,s,r){if(t[o])t[o].push(n);else{var i,l;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==e+s){i=u;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",e+s),i.src=o),t[o]=[n];var m=function(e,a){i.onerror=i.onload=null,clearTimeout(p);var n=t[o];if(delete t[o],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(t){return t(a)})),e)return e(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){var t={143:0};a.f.j=function(e,o){var n=a.o(t,e)?t[e]:void 0;if(0!==n)if(n)o.push(n[2]);else{var s=new Promise((function(a,o){n=t[e]=[a,o]}));o.push(n[2]=s);var r=a.p+a.u(e),i=new Error,l=function(o){if(a.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var s=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;i.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",i.name="ChunkLoadError",i.type=s,i.request=r,n[1](i)}};a.l(r,l,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,s,r=o[0],i=o[1],l=o[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var c=l(a)}for(e&&e(o);d<r.length;d++)s=r[d],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(c)},o=self["webpackChunkws_work"]=self["webpackChunkws_work"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(3699)}));o=a.O(o)})();
//# sourceMappingURL=app.ab97f2a8.js.map